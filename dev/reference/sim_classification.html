<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="These functions can be used to generate simulated data for supervised
(classification and regression) and unsupervised modeling applications."><title>Simulate datasets — sim_classification • rsample</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Sans%20Pro-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Source%20Code%20Pro-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate datasets — sim_classification"><meta property="og:description" content="These functions can be used to generate simulated data for supervised
(classification and regression) and unsupervised modeling applications."><meta property="og:image" content="https://rsample.tidymodels.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rsample</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/rsample.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Working_with_rsets.html">Working with Resample Sets</a>
    <a class="dropdown-item" href="../articles/Applications/Recipes_and_rsample.html">Recipes and rsample</a>
    <a class="dropdown-item" href="../articles/Applications/Survival_Analysis.html">Survival Analysis</a>
    <a class="dropdown-item" href="../articles/Applications/Intervals.html">Bootstrap Interval Estimation</a>
    <a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/models/time-series/">Time Series Analysis</a>
    <a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/work/nested-resampling/">Nested Resampling</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidymodels/rsample/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Simulate datasets</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/rsample/blob/HEAD/R/simulations.R" class="external-link"><code>R/simulations.R</code></a></small>
      <div class="d-none name"><code>sim_classification.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions can be used to generate simulated data for supervised
(classification and regression) and unsupervised modeling applications.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">sim_classification</span><span class="op">(</span>
  num_samples <span class="op">=</span> <span class="fl">100</span>,
  method <span class="op">=</span> <span class="st">"caret"</span>,
  intercept <span class="op">=</span> <span class="op">-</span><span class="fl">5</span>,
  num_linear <span class="op">=</span> <span class="fl">10</span>
<span class="op">)</span>

<span class="fu">sim_regression</span><span class="op">(</span>
  num_samples <span class="op">=</span> <span class="fl">100</span>,
  method <span class="op">=</span> <span class="st">"sapp_2014_1"</span>,
  std_dev <span class="op">=</span> <span class="cn">NULL</span>,
  factors <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>

<span class="fu">sim_noise</span><span class="op">(</span>
  <span class="va">num_samples</span>,
  <span class="va">num_vars</span>,
  cov_type <span class="op">=</span> <span class="st">"exchangeable"</span>,
  outcome <span class="op">=</span> <span class="st">"none"</span>,
  num_classes <span class="op">=</span> <span class="fl">2</span>,
  cov_param <span class="op">=</span> <span class="fl">0</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>num_samples</dt>
<dd><p>Number of data points to simulate.</p></dd>
<dt>method</dt>
<dd><p>A character string for the simulation method. For
classification, the single current option is "caret". For classification,
values can be "sapp_2014_1", "sapp_2014_2", "van_der_laan_2007_1", or
"van_der_laan_2007_2". See Details below.</p></dd>
<dt>intercept</dt>
<dd><p>The intercept for the linear predictor.</p></dd>
<dt>num_linear</dt>
<dd><p>Number of diminishing linear effects.</p></dd>
<dt>std_dev</dt>
<dd><p>Gaussian distribution standard deviation for residuals.
Default values are shown below in Details.</p></dd>
<dt>factors</dt>
<dd><p>A single logical for whether the binary indicators should be
encoded as factors or not.</p></dd>
<dt>num_vars</dt>
<dd><p>Number of noise predictors to create.</p></dd>
<dt>cov_type</dt>
<dd><p>The multivariate normal correlation structure of the
predictors. Possible values are "exchangeable" and "toeplitz".</p></dd>
<dt>outcome</dt>
<dd><p>A single character string for what type of independent outcome
should be simulated (if any). The default value of "none" produces no extra
columns. Using "classification" will generate a <code>class</code> column with
<code>num_classes</code> values, equally distributed. A value of "regression" results
in an <code>outcome</code> column that contains independent standard normal values.</p></dd>
<dt>num_classes</dt>
<dd><p>When <code>outcome = "classification"</code>, the number of classes
to simulate.</p></dd>
<dt>cov_param</dt>
<dd><p>A single numeric value for the exchangeable correlation
value or the base of the Toeplitz structure. See Details below.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>These functions provide several supervised simulation methods (and one
unsupervised). Learn more by <code>method</code>:</p><div class="section">
<h3 id="method-caret-"><code>method = "caret"</code><a class="anchor" aria-label="anchor" href="#method-caret-"></a></h3>


<p>This is a simulated classification problem with two classes, originally
implemented in <code>caret::twoClassSim()</code> with all numeric predictors. The
predictors are simulated in different sets. First, two multivariate normal
predictors (denoted here as <code>two_factor_1</code> and <code>two_factor_2</code>) are created
with a correlation of about 0.65. They change the log-odds using main
effects and an interaction:</p>
<div class="sourceCode"><pre><code><span class="va">intercept</span> <span class="op">-</span> <span class="fl">4</span> <span class="op">*</span> <span class="va">two_factor_1</span> <span class="op">+</span> <span class="fl">4</span> <span class="op">*</span> <span class="va">two_factor_2</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">two_factor_1</span> <span class="op">*</span> <span class="va">two_factor_2</span></code></pre></div>

<p>The intercept is a parameter for the simulation and can be used to control
the amount of class imbalance.</p>
<p>The second set of effects are linear with coefficients that alternate signs
and have a sequence of values between 2.5 and 0.025. For example, if there
were four predictors in this set, their contribution to the log-odds would
be</p>
<div class="sourceCode"><pre><code><span class="op">-</span><span class="fl">2.5</span> <span class="op">*</span> <span class="va">linear_1</span> <span class="op">+</span> <span class="fl">1.75</span> <span class="op">*</span> <span class="va">linear_2</span> <span class="op">-</span><span class="fl">1.00</span> <span class="op">*</span> <span class="va">linear_3</span> <span class="op">+</span> <span class="fl">0.25</span> <span class="op">*</span> <span class="va">linear_4</span></code></pre></div>

<p>(Note that these column names may change based on the value of <code>num_linear</code>).</p>
<p>The third set is a nonlinear function of a single predictor ranging between
<code>[0, 1]</code> called <code>non_linear_1</code> here:</p>
<div class="sourceCode"><pre><code><span class="op">(</span><span class="va">non_linear_1</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="fl">6</span> <span class="op">*</span> <span class="op">(</span><span class="va">non_linear_1</span> <span class="op">-</span> <span class="fl">0.3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></code></pre></div>

<p>The fourth set of informative predictors are copied from one of Friedman's
systems and use two more predictors (<code>non_linear_2</code> and <code>non_linear_3</code>):</p>
<div class="sourceCode"><pre><code><span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sin</a></span><span class="op">(</span><span class="va">non_linear_2</span> <span class="op">*</span> <span class="va">non_linear_3</span><span class="op">)</span></code></pre></div>

<p>All of these effects are added up to model the log-odds.</p>
</div>

<div class="section">
<h3 id="method-sapp-"><code>method = "sapp_2014_1"</code><a class="anchor" aria-label="anchor" href="#method-sapp-"></a></h3>


<p>This regression simulation is from Sapp et al. (2014). There are 20
independent Gaussian random predictors with mean zero and a variance of 9.
The prediction equation is:</p>
<div class="sourceCode"><pre><code><span class="va">predictor_01</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sin</a></span><span class="op">(</span><span class="va">predictor_02</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">predictor_03</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
 <span class="va">predictor_04</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="va">predictor_05</span> <span class="op">*</span> <span class="va">predictor_06</span> <span class="op">+</span>
 <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">predictor_07</span> <span class="op">*</span> <span class="va">predictor_08</span> <span class="op">*</span> <span class="va">predictor_09</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">+</span>
 <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">predictor_10</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">+</span> <span class="va">predictor_11</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">predictor_11</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">+</span>
 <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">predictor_12</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cos</a></span><span class="op">(</span><span class="va">predictor_13</span><span class="op">)</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">predictor_14</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">predictor_15</span><span class="op">)</span> <span class="op">+</span>
 <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">predictor_16</span> <span class="op">&lt;</span> <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">+</span> <span class="va">predictor_17</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">predictor_17</span> <span class="op">&lt;</span> <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">-</span>
 <span class="fl">2</span> <span class="op">*</span> <span class="va">predictor_18</span> <span class="op">-</span> <span class="va">predictor_19</span> <span class="op">*</span> <span class="va">predictor_20</span></code></pre></div>

<p>The error is Gaussian with mean zero and variance 9.</p>
</div>

<div class="section">
<h3 id="method-sapp--1"><code>method = "sapp_2014_2"</code><a class="anchor" aria-label="anchor" href="#method-sapp--1"></a></h3>


<p>This regression simulation is also from Sapp et al. (2014). There are 200
independent Gaussian predictors with mean zero and variance 16. The
prediction equation has an intercept of one and identical linear effects of
<code>log(abs(predictor))</code>.</p>
<p>The error is Gaussian with mean zero and variance 25.</p>
</div>

<div class="section">
<h3 id="method-van-der-laan-"><code>method = "van_der_laan_2007_1"</code><a class="anchor" aria-label="anchor" href="#method-van-der-laan-"></a></h3>


<p>This is a regression simulation from van der Laan et al. (2007) with ten
random Bernoulli variables that have a 40% probability of being a value of
one. The true regression equation is:</p>
<div class="sourceCode"><pre><code><span class="fl">2</span> <span class="op">*</span> <span class="va">predictor_01</span> <span class="op">*</span> <span class="va">predictor_10</span> <span class="op">+</span> <span class="fl">4</span> <span class="op">*</span> <span class="va">predictor_02</span> <span class="op">*</span> <span class="va">predictor_07</span> <span class="op">+</span>
  <span class="fl">3</span> <span class="op">*</span> <span class="va">predictor_04</span> <span class="op">*</span> <span class="va">predictor_05</span> <span class="op">-</span> <span class="fl">5</span> <span class="op">*</span> <span class="va">predictor_06</span> <span class="op">*</span> <span class="va">predictor_10</span> <span class="op">+</span>
  <span class="fl">3</span> <span class="op">*</span> <span class="va">predictor_08</span> <span class="op">*</span> <span class="va">predictor_09</span> <span class="op">+</span> <span class="va">predictor_01</span> <span class="op">*</span> <span class="va">predictor_02</span> <span class="op">*</span> <span class="va">predictor_04</span> <span class="op">-</span>
  <span class="fl">2</span> <span class="op">*</span> <span class="va">predictor_07</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">predictor_06</span><span class="op">)</span> <span class="op">*</span> <span class="va">predictor_02</span> <span class="op">*</span> <span class="va">predictor_09</span> <span class="op">-</span>
  <span class="fl">4</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">predictor_10</span><span class="op">)</span> <span class="op">*</span> <span class="va">predictor_01</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">predictor_04</span><span class="op">)</span></code></pre></div>

<p>The error term is standard normal.</p>
</div>

<div class="section">
<h3 id="method-van-der-laan--1"><code>method = "van_der_laan_2007_2"</code><a class="anchor" aria-label="anchor" href="#method-van-der-laan--1"></a></h3>


<p>This is another regression simulation from van der Laan et al. (2007)  with
twenty Gaussians with mean zero and variance 16. The prediction equation is:</p>
<div class="sourceCode"><pre><code><span class="va">predictor_01</span> <span class="op">*</span> <span class="va">predictor_02</span> <span class="op">+</span> <span class="va">predictor_10</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="va">predictor_03</span> <span class="op">*</span> <span class="va">predictor_17</span> <span class="op">-</span>
 <span class="va">predictor_15</span> <span class="op">*</span> <span class="va">predictor_04</span> <span class="op">+</span> <span class="va">predictor_09</span> <span class="op">*</span> <span class="va">predictor_05</span> <span class="op">+</span> <span class="va">predictor_19</span> <span class="op">-</span>
 <span class="va">predictor_20</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="va">predictor_09</span> <span class="op">*</span> <span class="va">predictor_08</span></code></pre></div>

<p>The error term is also Gaussian with mean zero and variance 16.</p>
</div>

<div class="section">
<h3 id="sim-noise-"><code>sim_noise()</code><a class="anchor" aria-label="anchor" href="#sim-noise-"></a></h3>


<p>This function simulates a number of random normal variables with mean zero.
The values can be independent if <code>cov_param = 0</code>. Otherwise the values are
multivariate normal with non-diagonal covariance matrices. For
<code>cov_type = "exchangeable"</code>, the structure has unit variances and covariances
of <code>cov_param</code>. With <code>cov_type = "toeplitz"</code>, the covariances have an
exponential pattern (see example below).</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>van der Laan, Mark J., Polley, Eric C and Hubbard, Alan E.. "Super Learner"
<em>Statistical Applications in Genetics and Molecular Biology</em>, vol. 6, no. 1,
2007. DOI: 10.2202/1544-6115.1309.</p>
<p>Stephanie Sapp, Mark J. van der Laan &amp; John Canny (2014) Subsemble: an
ensemble method for combining subset-specific algorithm fits, <em>Journal of
Applied Statistics</em>, 41:6, 1247-1259, DOI: 10.1080/02664763.2013.864263</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">sim_regression</span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 100 × 21</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    outcome predictor_01 predictor_02 predictor_03 predictor_04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>    8.49       -<span style="color: #BB0000;">1.88</span>        -<span style="color: #BB0000;">1.86</span>        1.23          2.68 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>   19.3         0.551        0.126       5.07         -<span style="color: #BB0000;">3.14</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>   57.7        -<span style="color: #BB0000;">2.51</span>        -<span style="color: #BB0000;">2.73</span>        4.76          5.91 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>   -<span style="color: #BB0000;">8.41</span>        4.79         0.474      -<span style="color: #BB0000;">0.993</span>        -<span style="color: #BB0000;">1.15</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>   43.0         0.989       -<span style="color: #BB0000;">1.96</span>       -<span style="color: #BB0000;">6.86</span>          4.96 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>   72.3        -<span style="color: #BB0000;">2.46</span>         5.30        7.49          4.54 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>   -<span style="color: #BB0000;">3.36</span>        1.46         2.15        2.00          0.249</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>   -<span style="color: #BB0000;">3.82</span>        2.21         2.73        1.62          1.70 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>   22.7         1.73         1.15       -<span style="color: #BB0000;">0.040</span><span style="color: #BB0000; text-decoration: underline;">2</span>       -<span style="color: #BB0000;">3.07</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>   25.7        -<span style="color: #BB0000;">0.916</span>        5.05        1.53          0.969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 90 more rows, and 16 more variables: predictor_05 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   predictor_06 &lt;dbl&gt;, predictor_07 &lt;dbl&gt;, predictor_08 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   predictor_09 &lt;dbl&gt;, predictor_10 &lt;dbl&gt;, predictor_11 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   predictor_12 &lt;dbl&gt;, predictor_13 &lt;dbl&gt;, predictor_14 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   predictor_15 &lt;dbl&gt;, predictor_16 &lt;dbl&gt;, predictor_17 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   predictor_18 &lt;dbl&gt;, predictor_19 &lt;dbl&gt;, predictor_20 &lt;dbl&gt;</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># pipe any of these functions to resampling</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span class="r-in"><span class="fu">sim_classification</span><span class="op">(</span><span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">    <span class="fu"><a href="bootstraps.html">bootstraps</a></span><span class="op">(</span>strata <span class="op">=</span> <span class="va">class</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Bootstrap sampling using stratification </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 25 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    splits           id         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> <span style="color: #949494;">&lt;split [100/34]&gt;</span> Bootstrap01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> <span style="color: #949494;">&lt;split [100/40]&gt;</span> Bootstrap02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> <span style="color: #949494;">&lt;split [100/38]&gt;</span> Bootstrap03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> <span style="color: #949494;">&lt;split [100/35]&gt;</span> Bootstrap04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> <span style="color: #949494;">&lt;split [100/36]&gt;</span> Bootstrap05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> <span style="color: #949494;">&lt;split [100/36]&gt;</span> Bootstrap06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> <span style="color: #949494;">&lt;split [100/41]&gt;</span> Bootstrap07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> <span style="color: #949494;">&lt;split [100/37]&gt;</span> Bootstrap08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> <span style="color: #949494;">&lt;split [100/33]&gt;</span> Bootstrap09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> <span style="color: #949494;">&lt;split [100/37]&gt;</span> Bootstrap10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 15 more rows</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># toeplitz covariance structure for four variables</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">cov_value</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/stats/toeplitz.html" class="external-link">toeplitz</a></span><span class="op">(</span><span class="va">cov_value</span><span class="op">^</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       [,1] [,2] [,3]  [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 1.000 0.50 0.25 0.125</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.500 1.00 0.50 0.250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.250 0.50 1.00 0.500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.125 0.25 0.50 1.000</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">sim_noise</span><span class="op">(</span><span class="fl">1000</span>, num_vars <span class="op">=</span> <span class="fl">4</span>, cov_type <span class="op">=</span> <span class="st">"toeplitz"</span>, cov_param <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         noise_1 noise_2 noise_3 noise_4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> noise_1    1.00    0.51    0.22    0.16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> noise_2    0.51    1.00    0.50    0.28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> noise_3    0.22    0.50    1.00    0.51</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> noise_4    0.16    0.28    0.51    1.00</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://juliasilge.com/" class="external-link">Julia Silge</a>, Fanny Chow, <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.9000.</p>
</div>

  </div></footer></body></html>

